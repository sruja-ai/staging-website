const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/editor.main.6DILEThT.js","_astro/index.BkaWJOLo.js","_astro/index.C-nSUQJB.js","_astro/auto.qXY55obW.js","_astro/index.BgIV59R8.css"])))=>i.map(i=>d[i]);
import{_ as z,c as ee,E as j,p as L,v as re}from"./auto.qXY55obW.js";import{j as I}from"./jsx-runtime.D_zvdyIk.js";import{r as k,p as B}from"./index.BkaWJOLo.js";function Y(e){e.languages.register({id:"sruja"}),e.languages.setMonarchTokensProvider("sruja",{tokenizer:{root:[[/\/\/.*$/,"comment"],[/\/\*[\s\S]*?\*\//,"comment"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/\d+\.\d+/,"number.float"],[/\d+/,"number"],[/\b(workspace|model|views|system|component|container|import|relation|requirements|adrs|functional|nonfunctional|constraint|true|false)\b/,"keyword"],[/->/,"operator"],[/[:=]/,"operator"],[/[{}]/,"delimiter.bracket"],[/[[\]]/,"delimiter.array"],[/[(),]/,"delimiter"],[/[a-zA-Z_][a-zA-Z0-9_]*/,"identifier"],[/\s+/,"white"]],string:[[/[^\\"]+/,"string"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]]}}),e.languages.setLanguageConfiguration("sruja",{comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}],indentationRules:{increaseIndentPattern:/^.*\{[^}]*$/,decreaseIndentPattern:/^\s*\}/}})}function te({value:e,onChange:t,language:r="plaintext",theme:a="vs",height:f="100%",options:w={},className:b,onReady:v}){const d=k.useRef(null),g=k.useRef(null),m=k.useRef(null);return k.useEffect(()=>{if(typeof window>"u"||g.current)return;let s=!0,c=null,_=null,y=null;typeof window.MonacoEnvironment>"u"&&(window.MonacoEnvironment={getWorker:function(p,h){const E=new Blob(["self.onmessage = () => {}"],{type:"application/javascript"});return new Worker(URL.createObjectURL(E))}});const W=()=>{if(!s)return;const p=d.current;if(!p){y=setTimeout(W,50);return}try{if(!p.parentNode||!p.isConnected||!document.body.contains(p)){y=setTimeout(W,50);return}}catch{y=setTimeout(W,50);return}z(()=>import("./editor.main.6DILEThT.js").then(h=>h.e),__vite__mapDeps([0,1,2,3,4])).then(h=>{if(!s)return;const E=d.current;try{if(!E||!E.parentNode||!E.isConnected||!document.body.contains(E))return}catch{return}m.current=h;try{r==="sruja"&&Y(h)}catch(M){console.warn("Failed to register language:",M);return}if(d.current){try{if(!d.current.parentNode||!d.current.isConnected||!document.body.contains(d.current))return}catch{return}try{const M={value:e,language:r,automaticLayout:!0,minimap:{enabled:!1},theme:a,scrollBeyondLastLine:!1,foldingHighlight:!0,foldingImportsByDefault:!1,unfoldOnClickAfterEndOfLine:!0,accessibilitySupport:"on",...w,folding:w.folding!==!1,foldingStrategy:w.foldingStrategy||"indentation",showFoldingControls:w.showFoldingControls||"always"};c=h.editor.create(d.current,M),c&&setTimeout(()=>{try{c?.layout()}catch{}},100);const A=()=>{const x=d.current?.querySelector(".editor-widget.find-widget");x&&x.querySelector(":focus")&&x.getAttribute("aria-hidden")==="true"&&x.removeAttribute("aria-hidden")},T=new MutationObserver(()=>{A()});d.current&&(T.observe(d.current,{attributes:!0,attributeFilter:["aria-hidden"],subtree:!0}),d.current.addEventListener("focusin",A,!0),d.current.addEventListener("focus",A,!0)),c._ariaObserver=T,c._ariaCleanup=()=>{T.disconnect(),d.current&&(d.current.removeEventListener("focusin",A,!0),d.current.removeEventListener("focus",A,!0))},g.current=c,_=c.onDidChangeModelContent(()=>{c&&s&&t(c.getValue())}),v&&s&&v(h,c)}catch(M){console.error("Failed to create Monaco editor:",M)}}}).catch(h=>{console.error("Failed to load Monaco editor:",h)})};return y=setTimeout(W,0),()=>{if(s=!1,y&&(clearTimeout(y),y=null),_&&(_.dispose(),_=null),c){try{c.dispose()}catch{}c=null}if(g.current){try{const p=g.current?._ariaCleanup;p&&p(),g.current.dispose()}catch{}g.current=null}}},[r,a]),k.useEffect(()=>{const s=g.current;s&&s.getValue()!==e&&s.setValue(e)},[e]),k.useEffect(()=>{const s=m.current,c=g.current;!s||!c||s.editor.setTheme(a)},[a]),I.jsx("div",{ref:d,className:b,style:{height:f}})}function oe({original:e,modified:t,language:r="plaintext",theme:a="vs",height:f="100%",options:w={},className:b,onReady:v}){const d=k.useRef(null),g=k.useRef(null),m=k.useRef(null);return k.useEffect(()=>{if(typeof window>"u"||g.current)return;let s=!0,c=null,_=null;typeof window.MonacoEnvironment>"u"&&(window.MonacoEnvironment={getWorker:function(W,p){const h=new Blob(["self.onmessage = () => {}"],{type:"application/javascript"});return new Worker(URL.createObjectURL(h))}});const y=()=>{if(!s)return;if(!d.current){_=setTimeout(y,50);return}z(()=>import("./editor.main.6DILEThT.js").then(p=>p.e),__vite__mapDeps([0,1,2,3,4])).then(p=>{if(s&&d.current){m.current=p;try{r==="sruja"&&Y(p)}catch(h){console.warn("Failed to register language:",h)}try{const h=p.editor.createModel(e,r),E=p.editor.createModel(t,r),M={theme:a,automaticLayout:!0,readOnly:!0,renderSideBySide:!0,...w};c=p.editor.createDiffEditor(d.current,M),c.setModel({original:h,modified:E}),g.current=c,v&&s&&v(p,c)}catch(h){console.error("Failed to create Monaco diff editor:",h)}}}).catch(p=>{console.error("Failed to load Monaco editor:",p)})};return _=setTimeout(y,0),()=>{s=!1,_&&clearTimeout(_),c&&(c.dispose(),c=null),g.current=null}},[r,a]),k.useEffect(()=>{const s=g.current,c=m.current;if(!s||!c)return;const _=s.getModel();_&&(_.original.getValue()!==e&&_.original.setValue(e),_.modified.getValue()!==t&&_.modified.setValue(t))},[e,t]),k.useEffect(()=>{const s=m.current;s&&s.editor.setTheme(a)},[a]),I.jsx("div",{ref:d,className:b,style:{height:f}})}function pe({value:e,originalValue:t,onChange:r,theme:a="vs",height:f="100%",options:w={},className:b,enableLsp:v=!0,onReady:d}){return t!==void 0?I.jsx(oe,{original:t,modified:e,language:"sruja",theme:a,height:f,options:{...w,readOnly:!1,originalEditable:!1},className:b,onReady:(g,m)=>{d&&d(g,m.getModifiedEditor())}}):I.jsx(te,{value:e,onChange:r,language:"sruja",theme:a,height:f,options:w,className:b,onReady:async(g,m)=>{if(v&&typeof window<"u")try{const{createWasmLspApi:s,initializeMonacoWasmLsp:c}=await z(async()=>{const{createWasmLspApi:y,initializeMonacoWasmLsp:W}=await import("./index.ZJBLZeBO.js");return{createWasmLspApi:y,initializeMonacoWasmLsp:W}},[]),_=s();c(g,m,_)}catch(s){console.warn("Failed to initialize WASM LSP (editor will work without LSP features):",s)}d&&d(g,m)}})}class D extends Error{constructor(t,r){super(t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="SrujaError",this.code=r?.code??"UNKNOWN_ERROR",this.context=r?.context,this.cause=r?.cause,Error.captureStackTrace&&Error.captureStackTrace(this,D)}toJSON(){const t={name:this.name,message:this.message,code:this.code,context:this.context,stack:this.stack};return this.cause&&(t.cause={name:this.cause.name,message:this.cause.message,stack:this.cause.stack}),t}}class ne extends D{constructor(t,r){super(t,{code:"VALIDATION_ERROR",context:{...r?.context,field:r?.field,value:r?.value}}),this.name="ValidationError"}}class C extends D{constructor(t,r){super(t,{code:"CONFIGURATION_ERROR",context:{...r?.context,configKey:r?.configKey}}),this.name="ConfigurationError"}}class U extends D{constructor(t,r){super(t,{code:"NETWORK_ERROR",context:{...r?.context,url:r?.url,status:r?.status},cause:r?.cause}),this.name="NetworkError"}}function ge(e){return e instanceof D}function _e(e){return e instanceof ne}function he(e){return e instanceof Error?e.message:typeof e=="string"?e:"Unknown error occurred"}function ye(e){if(e instanceof Error)return e.stack}var ae={};let V=!1,H;const J=typeof B<"u"&&ae!==void 0&&!0;function ie(){if(V)return!0;if(typeof window<"u"){const e=window.__SRUJA_DEBUG__;if(typeof e=="boolean")return e;try{if(window.localStorage?.getItem("sruja:debug")==="true")return!0}catch{}}return!J}function q(e){return[e.timestamp,`[${e.level.toUpperCase()}]`,e.service?`[${e.service}]`:"",e.message].filter(Boolean).join(" ")}function K(e){const t={timestamp:e.timestamp,level:e.level,message:e.message};return e.service&&(t.service=e.service),e.context&&Object.keys(e.context).length>0&&(t.context=e.context),JSON.stringify(t)}function P(e,t,r){const a=new Date().toISOString(),f={level:e,message:t,context:r,timestamp:a,service:H};if(e==="error"||e==="warn"){const b=J?K(f):q(f);if(e==="error"){console.error(b,r?JSON.stringify(r,null,2):"");try{const v=(typeof r?.component=="string"?r.component:void 0)||"unknown",d=(typeof r?.action=="string"?r.action:void 0)||"error",g=`error.${v}.${d}`,m={error_message:t,error_type:(typeof r?.errorType=="string"?r.errorType:void 0)||"unknown",...r};typeof window<"u"&&(m.user_agent=navigator.userAgent,m.screen_size=`${window.screen.width}x${window.screen.height}`,m.viewport_size=`${window.innerWidth}x${window.innerHeight}`,m.url=window.location.href.substring(0,200)),ee(g,m)}catch{}}else console.warn(b,r?JSON.stringify(r,null,2):"");return}if(!ie())return;const w=J?K(f):q(f);e==="info"?console.info(w,r?JSON.stringify(r,null,2):""):console.debug(w,r?JSON.stringify(r,null,2):"")}const l={setService(e){H=e},enableDebug(){V=!0},disableDebug(){V=!1},debug(e,t){P("debug",e,t)},info(e,t){P("info",e,t)},warn(e,t){P("warn",e,t)},error(e,t){P("error",e,t)}};function Z(){return typeof window<"u"}function Se(){return typeof B<"u"&&B.versions?.node!==void 0}function be(){return typeof window>"u"||typeof document>"u"}function se(e){if(!Z())return e?.trailingSlash?"/":"";const t=import.meta;if(t.env?.BASE_URL){const w=t.env.BASE_URL;return e?.trailingSlash?w.endsWith("/")?w:w+"/":w.endsWith("/")?w.slice(0,-1):w}const r=window.location.pathname;if(e?.studioPath!==!1&&(r.startsWith("/studio")||r.startsWith("/docs")))return e?.trailingSlash?"/":"";const a=r.match(/^(\/.+?)\//),f=a?a[1]:"";return e?.trailingSlash?f?f+"/":"/":f}function Q(){return typeof window>"u"?null:window}function F(){try{const e=typeof import.meta<"u"?import.meta:void 0;if(e?.env?.DEV||e?.env?.MODE==="development")return!0}catch{}return typeof B<"u"&&!1}async function ce(e){await new Promise((t,r)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onload=()=>t(),a.onerror=()=>{const f=new Error("Failed to load "+e);l.error("Failed to load wasm script",{component:"wasm",action:"load_script",scriptUrl:e,error:f.message}),r(f)},document.head.appendChild(a)})}async function X(e,t){const r=Q();if(!r)throw new C("Window object not available",{configKey:"window"});if(r.Go)return;const a=[e,t.replace(/\/?$/,"/")+"wasm_exec.js","/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.25.0/misc/wasm/wasm_exec.js"];let f=!1,w=null;for(const b of a)try{if(await ce(b),r.Go){f=!0;break}}catch(v){w=v instanceof Error?v:new Error(String(v))}if(!f){const b=new U("Failed to load wasm_exec.js from all candidates",{url:e,cause:w||void 0,context:{candidates:a}});throw l.error("Failed to load Go wasm runtime",{component:"wasm",action:"load_go_runtime",candidates:a,error:b.message}),b}}async function ue(e){if(!Z())throw new C("WASM initialization requires browser environment");const t=Q();if(!t)throw new C("Window object not available",{configKey:"window"});const r=e?.base||"/",a=r.replace(/\/?$/,"/")+"wasm/wasm_exec.js",f=r.replace(/\/?$/,"/")+"wasm/sruja.wasm",b=F()?Date.now():`v${Date.now()}`,v=f+"?v="+b;if(!e?.skipGoLoad)await X(a,r);else if(!t.Go)try{await X(a,r)}catch{}const d=t.Go;if(!d){const n=new C("wasm_exec.js not loaded - Go constructor not available",{configKey:"Go"});throw l.error("Go constructor missing",{component:"wasm",action:"init",errorType:"go_constructor_missing",error:n.message}),n}const g=new d,m=g.importObject||{};if(!m.gojs){const n=m.env||{};m.gojs=Object.keys(n).length?n:m.go||{}}m.gojs&&!m.gojs["runtime.scheduleTimeoutEvent"]&&(m.gojs["runtime.scheduleTimeoutEvent"]=n=>{setTimeout(()=>{try{g._resume&&g._resume()}catch{}},n)});let s=null;const c=[v,f,r.replace(/\/?$/,"/")+"sruja.wasm","/sruja.wasm",r.replace(/\/?$/,"/")+"studio/wasm/sruja.wasm",r.replace(/\/?$/,"/")+"viewer/wasm/sruja.wasm","/wasm/sruja.wasm"];let _=null;for(const n of c)try{const o=await fetch(n);if(!o.ok)throw new U(`Failed to fetch ${n}`,{url:n,status:o.status});if(WebAssembly.instantiateStreaming)try{s=(await WebAssembly.instantiateStreaming(o,m)).instance,_=null,l.info("WASM loaded via streaming",{component:"wasm",action:"load_wasm",url:n}),F()&&console.info(`[WASM] ✅ Loaded from ${n}
[WASM] Cache-busting enabled - new WASM will load automatically after rebuild.
[WASM] If changes don't appear, try a hard refresh (Ctrl+Shift+R / Cmd+Shift+R)`);break}catch(i){l.warn("WASM streaming failed, falling back to arrayBuffer",{component:"wasm",action:"load_wasm",error:i instanceof Error?i.message:String(i)});const u=await fetch(n);if(!u.ok)throw new Error("Failed to re-fetch for fallback");const S=await u.arrayBuffer();s=(await WebAssembly.instantiate(S,m)).instance,_=null,l.info("WASM loaded via arrayBuffer fallback",{component:"wasm",action:"load_wasm",url:n}),F()&&console.info(`[WASM] ✅ Loaded from ${n} (fallback method)
[WASM] Cache-busting enabled - new WASM will load automatically after rebuild.
[WASM] If changes don't appear, try a hard refresh (Ctrl+Shift+R / Cmd+Shift+R)`);break}else{const i=await o.arrayBuffer();s=(await WebAssembly.instantiate(i,m)).instance,_=null,l.info("WASM loaded via arrayBuffer",{component:"wasm",action:"load_wasm",url:n}),F()&&console.info(`[WASM] ✅ Loaded from ${n}
[WASM] Cache-busting enabled - new WASM will load automatically after rebuild.
[WASM] If changes don't appear, try a hard refresh (Ctrl+Shift+R / Cmd+Shift+R)`);break}}catch(o){_=o instanceof Error?o:new Error(String(o));continue}if(!s){const n=_||new U("Failed to load sruja.wasm from all candidates",{context:{candidates:c}});throw l.error("Failed to load sruja.wasm",{component:"wasm",action:"load_wasm",errorType:"wasm_load_failure",candidates:c,retries:c.length,error:n.message}),n}g.run(s),await new Promise(n=>setTimeout(n,100));let y=0;const W=150;for(;!t.sruja_dsl_to_model&&y<W;)await new Promise(n=>setTimeout(n,50)),y++;if(y>=W){const n=Object.keys(t).filter(o=>o.startsWith("sruja_"));l.error("Required WASM functions not found after waiting",{component:"wasm",action:"wait_for_required",retries:y,available:n,missing:{model:!t.sruja_dsl_to_model,mermaid:!t.sruja_dsl_to_mermaid,markdown:!t.sruja_dsl_to_markdown}})}const p=t.sruja_dsl_to_mermaid,h=t.sruja_dsl_to_markdown,E=t.sruja_dsl_to_model,M=t.sruja_model_to_dsl,A=t.sruja_dsl_to_dot,T=t.sruja_analyze_governance,x=Object.keys(t).filter(n=>n.startsWith("sruja_"));if(l.info("WASM functions loaded",{component:"wasm",action:"init_complete",available:x}),!p||!h||!E||!M){const n=[];p||n.push("sruja_dsl_to_mermaid"),h||n.push("sruja_dsl_to_markdown"),E||n.push("sruja_dsl_to_model"),M||n.push("sruja_model_to_dsl");const o=Object.keys(t).filter(u=>u.startsWith("sruja_")),i=new C(`WASM functions not found. Missing: ${n.join(", ")}. Available: ${o.join(", ")||"none"}`,{configKey:"wasm_functions",context:{missing:n,available:o,retries:y}});throw l.error("WASM functions missing",{component:"wasm",action:"init",errorType:"wasm_functions_missing",missing:n,available:o,retries:y,windowKeys:Object.keys(t).filter(u=>u.includes("sruja")||u.includes("wasm")),error:i.message}),i}return{parseDslToJson:async(n,o)=>{try{const i=o||typeof location<"u"&&location.pathname||"input.sruja";if(!E)throw new j("SYSTEM_5002","sruja_dsl_to_model function not registered");const u=E(n,i);if(!u||!u.ok){const S=L(u);throw S?(l.error("WASM parse failed",{component:"wasm",action:"parse_dsl",errorType:"parse_failure",errorCode:S.code,error:S.message,context:S.context,dslLength:n.length}),S):new j("PARSE_1001",u?.error||"parse failed")}return u.json||u.data||""}catch(i){throw l.error("WASM parse exception",{component:"wasm",action:"parse_dsl",errorType:"parse_exception",error:i instanceof Error?i.message:String(i),errorCode:i instanceof j?i.code:void 0}),i}},modelToDsl:async n=>{try{if(!M)throw new j("SYSTEM_5002","sruja_model_to_dsl function not registered");const o=M(n);if(!o||!o.ok){const i=L(o);throw i||new j("EXPORT_4001",o?.error||"model to DSL conversion failed")}return o.data||""}catch(o){throw l.error("WASM model to DSL exception",{component:"wasm",action:"model_to_dsl",error:o instanceof Error?o.message:String(o),errorCode:o instanceof j?o.code:void 0}),o}},dslToMermaid:async n=>{try{const o=p(n);if(!o||!o.ok){const u=L(o);throw u?(l.error("WASM mermaid export failed",{component:"wasm",action:"export_mermaid",error:u.message,errorCode:u.code,context:u.context,dslPreview:n.substring(0,200)}),u):new j("EXPORT_4001",o?.error||"mermaid export failed")}const i=o.data||"";if(!i||i.trim().length===0){const u="mermaid exporter returned empty output";throw l.error("WASM mermaid export returned empty",{component:"wasm",action:"export_mermaid",error:u,dslPreview:n.substring(0,200)}),new j("EXPORT_4002",u)}return i}catch(o){throw l.error("WASM mermaid export exception",{component:"wasm",action:"export_mermaid",error:o instanceof Error?o.message:String(o),errorCode:o instanceof j?o.code:void 0}),o}},dslToMarkdown:async n=>{try{const o=h(n);if(!o||!o.ok)throw new Error(o?.error||"markdown export failed");return o.data||""}catch(o){throw l.error("WASM markdown export exception",{component:"wasm",action:"export_markdown",error:o instanceof Error?o.message:String(o)}),o}},dslToModel:async(n,o)=>{try{const i=o||typeof location<"u"&&location.pathname||"input.sruja";if(!E)throw new j("SYSTEM_5002","sruja_dsl_to_model function not registered");const u=E(n,i);if(!u||!u.ok){const S=L(u);throw S||new j("EXPORT_4001",u?.error||"model export failed")}return u.data||""}catch(i){throw l.error("WASM model export exception",{component:"wasm",action:"export_model",error:i instanceof Error?i.message:String(i),errorCode:i instanceof j?i.code:void 0}),i}},dslToDot:async(n,o,i,u)=>{try{if(!A)throw new j("SYSTEM_5002","sruja_dsl_to_dot function not registered");const O=A(n,JSON.stringify({viewLevel:o??1,focusNodeId:i??"",nodeSizes:u||{}}));if(!O||!O.ok){const G=L(O);throw G||new j("EXPORT_4001",O?.error||"DOT export failed")}return re(O.data)}catch(S){throw l.error("WASM DOT export exception",{component:"wasm",action:"export_dot",error:S instanceof Error?S.message:String(S),errorCode:S instanceof j?S.code:void 0}),S}},calculateArchitectureScore:async n=>{try{if(!T)throw new Error("sruja_analyze_governance function not registered");const o=T(n);if(!o||!o.ok)throw new Error(o?.error||"score calculation failed");return JSON.parse(o.data||"{}")}catch(o){throw l.error("WASM score calculation exception",{component:"wasm",action:"calculate_score",error:o instanceof Error?o.message:String(o)}),o}}}}let R=null,$=null;function le(){return se({trailingSlash:!0,studioPath:!0})}async function de(e){return R||$||($=(async()=>{const t=e?.base??le();return R=await ue({...e,base:t}),R})(),$)}async function N(){if(R)return R;try{return await de()}catch(e){return l.error("Failed to initialize WASM",{component:"wasm",action:"get_api",error:e instanceof Error?e.message:String(e)}),null}}async function ve(e,t){const r=await N();if(!r)return l.error("WASM not available",{component:"wasm",action:"convert_dsl_to_json"}),null;try{const a=await r.parseDslToJson(e,t);return JSON.parse(a)}catch(a){const f=a instanceof Error?a.message:String(a);throw l.error("DSL parse error",{component:"wasm",action:"convert_dsl_to_json",error:f,filename:t||"unknown"}),new Error(`Failed to parse DSL${t?` (${t})`:""}: ${f}`)}}async function Ee(e){const t=await N();if(!t)return l.error("WASM not available",{component:"wasm",action:"convert_dsl_to_markdown"}),null;try{return await t.dslToMarkdown(e)}catch(r){return l.error("DSL to Markdown conversion error",{component:"wasm",action:"convert_dsl_to_markdown",error:r instanceof Error?r.message:String(r)}),null}}async function je(e){const t=await N();if(!t)return l.error("WASM not available",{component:"wasm",action:"convert_dsl_to_mermaid"}),null;try{return await t.dslToMermaid(e)}catch(r){return l.error("DSL to Mermaid conversion error",{component:"wasm",action:"convert_dsl_to_mermaid",error:r instanceof Error?r.message:String(r)}),null}}async function Me(e,t,r,a){const f=await N();if(!f)return l.error("WASM not available",{component:"wasm",action:"convert_dsl_to_dot"}),null;try{return await f.dslToDot(e,t,r,a)}catch(w){return l.error("DSL to DOT conversion error",{component:"wasm",action:"convert_dsl_to_dot",error:w instanceof Error?w.message:String(w)}),null}}async function ke(e){const t=await N();if(!t)throw l.error("WASM not available",{component:"wasm",action:"convert_model_to_dsl"}),new Error("WASM not available");try{const r=JSON.stringify(e);return await t.modelToDsl(r)}catch(r){const a=r instanceof Error?r.message:String(r);throw l.error("Model to DSL conversion error",{component:"wasm",action:"convert_model_to_dsl",error:a}),r}}export{C,te as M,U as N,pe as S,ne as V,be as a,Ee as b,je as c,Z as d,Se as e,D as f,se as g,ge as h,ue as i,_e as j,he as k,l,ye as m,de as n,N as o,ve as p,Me as q,ke as r};
