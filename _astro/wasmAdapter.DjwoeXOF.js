const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/editor.main.DWK_h-lh.js","_astro/index._4BMK3ry.js","_astro/index.C-nSUQJB.js","_astro/auto.qXY55obW.js","_astro/index.CIfVDR44.css"])))=>i.map(i=>d[i]);
import{_ as z,c as ee,E as j,p as L,v as re}from"./auto.qXY55obW.js";import{j as I}from"./jsx-runtime.D_zvdyIk.js";import{r as k,p as B}from"./index._4BMK3ry.js";function Y(e){e.languages.register({id:"sruja"}),e.languages.setMonarchTokensProvider("sruja",{tokenizer:{root:[[/\/\/.*$/,"comment"],[/\/\*[\s\S]*?\*\//,"comment"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/\d+\.\d+/,"number.float"],[/\d+/,"number"],[/\b(workspace|model|views|system|component|container|import|relation|requirements|adrs|functional|nonfunctional|constraint|true|false)\b/,"keyword"],[/->/,"operator"],[/[:=]/,"operator"],[/[{}]/,"delimiter.bracket"],[/[[\]]/,"delimiter.array"],[/[(),]/,"delimiter"],[/[a-zA-Z_][a-zA-Z0-9_]*/,"identifier"],[/\s+/,"white"]],string:[[/[^\\"]+/,"string"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]]}}),e.languages.setLanguageConfiguration("sruja",{comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'}],indentationRules:{increaseIndentPattern:/^.*\{[^}]*$/,decreaseIndentPattern:/^\s*\}/}})}function te({value:e,onChange:r,language:t="plaintext",theme:a="vs",height:f="100%",options:m={},className:v,onReady:b}){const d=k.useRef(null),g=k.useRef(null),w=k.useRef(null);return k.useEffect(()=>{if(typeof window>"u"||g.current)return;let i=!0,c=null,_=null,y=null;typeof window.MonacoEnvironment>"u"&&(window.MonacoEnvironment={getWorker:function(p,h){const E=new Blob(["self.onmessage = () => {}"],{type:"application/javascript"});return new Worker(URL.createObjectURL(E))}});const W=()=>{if(!i)return;const p=d.current;if(!p){y=setTimeout(W,50);return}try{if(!p.parentNode||!p.isConnected||!document.body.contains(p)){y=setTimeout(W,50);return}}catch{y=setTimeout(W,50);return}z(()=>import("./editor.main.DWK_h-lh.js").then(h=>h.e),__vite__mapDeps([0,1,2,3,4])).then(h=>{if(!i)return;const E=d.current;try{if(!E||!E.parentNode||!E.isConnected||!document.body.contains(E))return}catch{return}w.current=h;try{t==="sruja"&&Y(h)}catch(M){console.warn("Failed to register language:",M);return}if(d.current){try{if(!d.current.parentNode||!d.current.isConnected||!document.body.contains(d.current))return}catch{return}try{const M={value:e,language:t,automaticLayout:!0,minimap:{enabled:!1},theme:a,scrollBeyondLastLine:!1,foldingHighlight:!0,foldingImportsByDefault:!1,unfoldOnClickAfterEndOfLine:!0,accessibilitySupport:"on",...m,folding:m.folding!==!1,foldingStrategy:m.foldingStrategy||"indentation",showFoldingControls:m.showFoldingControls||"always"};c=h.editor.create(d.current,M),c&&setTimeout(()=>{try{c?.layout()}catch{}},100);const A=()=>{const x=d.current?.querySelector(".editor-widget.find-widget");x&&x.querySelector(":focus")&&x.getAttribute("aria-hidden")==="true"&&x.removeAttribute("aria-hidden")},T=new MutationObserver(()=>{A()});d.current&&(T.observe(d.current,{attributes:!0,attributeFilter:["aria-hidden"],subtree:!0}),d.current.addEventListener("focusin",A,!0),d.current.addEventListener("focus",A,!0)),c._ariaObserver=T,c._ariaCleanup=()=>{T.disconnect(),d.current&&(d.current.removeEventListener("focusin",A,!0),d.current.removeEventListener("focus",A,!0))},g.current=c,_=c.onDidChangeModelContent(()=>{c&&i&&r(c.getValue())}),b&&i&&b(h,c)}catch(M){console.error("Failed to create Monaco editor:",M)}}}).catch(h=>{console.error("Failed to load Monaco editor:",h)})};return y=setTimeout(W,0),()=>{if(i=!1,y&&(clearTimeout(y),y=null),_&&(_.dispose(),_=null),c){try{c.dispose()}catch{}c=null}if(g.current){try{const p=g.current?._ariaCleanup;p&&p(),g.current.dispose()}catch{}g.current=null}}},[t,a,r,b,m,e]),k.useEffect(()=>{const i=g.current;i&&i.getValue()!==e&&i.setValue(e)},[e]),k.useEffect(()=>{const i=w.current,c=g.current;!i||!c||i.editor.setTheme(a)},[a]),I.jsx("div",{ref:d,className:v,style:{height:f}})}function oe({original:e,modified:r,language:t="plaintext",theme:a="vs",height:f="100%",options:m={},className:v,onReady:b}){const d=k.useRef(null),g=k.useRef(null),w=k.useRef(null);return k.useEffect(()=>{if(typeof window>"u"||g.current)return;let i=!0,c=null,_=null;typeof window.MonacoEnvironment>"u"&&(window.MonacoEnvironment={getWorker:function(W,p){const h=new Blob(["self.onmessage = () => {}"],{type:"application/javascript"});return new Worker(URL.createObjectURL(h))}});const y=()=>{if(!i)return;if(!d.current){_=setTimeout(y,50);return}z(()=>import("./editor.main.DWK_h-lh.js").then(p=>p.e),__vite__mapDeps([0,1,2,3,4])).then(p=>{if(i&&d.current){w.current=p;try{t==="sruja"&&Y(p)}catch(h){console.warn("Failed to register language:",h)}try{const h=p.editor.createModel(e,t),E=p.editor.createModel(r,t),M={theme:a,automaticLayout:!0,readOnly:!0,renderSideBySide:!0,...m};c=p.editor.createDiffEditor(d.current,M),c.setModel({original:h,modified:E}),g.current=c,b&&i&&b(p,c)}catch(h){console.error("Failed to create Monaco diff editor:",h)}}}).catch(p=>{console.error("Failed to load Monaco editor:",p)})};return _=setTimeout(y,0),()=>{i=!1,_&&clearTimeout(_),c&&(c.dispose(),c=null),g.current=null}},[t,a,r,b,m,e]),k.useEffect(()=>{const i=g.current,c=w.current;if(!i||!c)return;const _=i.getModel();_&&(_.original.getValue()!==e&&_.original.setValue(e),_.modified.getValue()!==r&&_.modified.setValue(r))},[e,r]),k.useEffect(()=>{const i=w.current;i&&i.editor.setTheme(a)},[a]),I.jsx("div",{ref:d,className:v,style:{height:f}})}function pe({value:e,originalValue:r,onChange:t,theme:a="vs",height:f="100%",options:m={},className:v,enableLsp:b=!0,onReady:d}){return r!==void 0?I.jsx(oe,{original:r,modified:e,language:"sruja",theme:a,height:f,options:{...m,readOnly:!1,originalEditable:!1},className:v,onReady:(g,w)=>{d&&d(g,w.getModifiedEditor())}}):I.jsx(te,{value:e,onChange:t,language:"sruja",theme:a,height:f,options:m,className:v,onReady:async(g,w)=>{if(b&&typeof window<"u")try{const{createWasmLspApi:i,initializeMonacoWasmLsp:c}=await z(async()=>{const{createWasmLspApi:y,initializeMonacoWasmLsp:W}=await import("./index.ZJBLZeBO.js");return{createWasmLspApi:y,initializeMonacoWasmLsp:W}},[]),_=i();c(g,w,_)}catch(i){console.warn("Failed to initialize WASM LSP (editor will work without LSP features):",i)}d&&d(g,w)}})}class D extends Error{constructor(r,t){super(r),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="SrujaError",this.code=t?.code??"UNKNOWN_ERROR",this.context=t?.context,this.cause=t?.cause,Error.captureStackTrace&&Error.captureStackTrace(this,D)}toJSON(){const r={name:this.name,message:this.message,code:this.code,context:this.context,stack:this.stack};return this.cause&&(r.cause={name:this.cause.name,message:this.cause.message,stack:this.cause.stack}),r}}class ne extends D{constructor(r,t){super(r,{code:"VALIDATION_ERROR",context:{...t?.context,field:t?.field,value:t?.value}}),this.name="ValidationError"}}class C extends D{constructor(r,t){super(r,{code:"CONFIGURATION_ERROR",context:{...t?.context,configKey:t?.configKey}}),this.name="ConfigurationError"}}class U extends D{constructor(r,t){super(r,{code:"NETWORK_ERROR",context:{...t?.context,url:t?.url,status:t?.status},cause:t?.cause}),this.name="NetworkError"}}function ge(e){return e instanceof D}function _e(e){return e instanceof ne}function he(e){return e instanceof Error?e.message:typeof e=="string"?e:"Unknown error occurred"}function ye(e){if(e instanceof Error)return e.stack}var ae={};let V=!1,H;const J=typeof B<"u"&&ae!==void 0&&!0;function se(){if(V)return!0;if(typeof window<"u"){const e=window.__SRUJA_DEBUG__;if(typeof e=="boolean")return e;try{if(window.localStorage?.getItem("sruja:debug")==="true")return!0}catch{}}return!J}function q(e){return[e.timestamp,`[${e.level.toUpperCase()}]`,e.service?`[${e.service}]`:"",e.message].filter(Boolean).join(" ")}function K(e){const r={timestamp:e.timestamp,level:e.level,message:e.message};return e.service&&(r.service=e.service),e.context&&Object.keys(e.context).length>0&&(r.context=e.context),JSON.stringify(r)}function P(e,r,t){const a=new Date().toISOString(),f={level:e,message:r,context:t,timestamp:a,service:H};if(e==="error"||e==="warn"){const v=J?K(f):q(f);if(e==="error"){console.error(v,t?JSON.stringify(t,null,2):"");try{const b=(typeof t?.component=="string"?t.component:void 0)||"unknown",d=(typeof t?.action=="string"?t.action:void 0)||"error",g=`error.${b}.${d}`,w={error_message:r,error_type:(typeof t?.errorType=="string"?t.errorType:void 0)||"unknown",...t};typeof window<"u"&&(w.user_agent=navigator.userAgent,w.screen_size=`${window.screen.width}x${window.screen.height}`,w.viewport_size=`${window.innerWidth}x${window.innerHeight}`,w.url=window.location.href.substring(0,200)),ee(g,w)}catch{}}else console.warn(v,t?JSON.stringify(t,null,2):"");return}if(!se())return;const m=J?K(f):q(f);e==="info"?console.info(m,t?JSON.stringify(t,null,2):""):console.debug(m,t?JSON.stringify(t,null,2):"")}const l={setService(e){H=e},enableDebug(){V=!0},disableDebug(){V=!1},debug(e,r){P("debug",e,r)},info(e,r){P("info",e,r)},warn(e,r){P("warn",e,r)},error(e,r){P("error",e,r)}};function Z(){return typeof window<"u"}function Se(){return typeof B<"u"&&B.versions?.node!==void 0}function be(){return typeof window>"u"||typeof document>"u"}function ie(e){if(!Z())return e?.trailingSlash?"/":"";const r=import.meta;if(r.env?.BASE_URL){const m=r.env.BASE_URL;return e?.trailingSlash?m.endsWith("/")?m:m+"/":m.endsWith("/")?m.slice(0,-1):m}const t=window.location.pathname;if(e?.studioPath!==!1&&(t.startsWith("/studio")||t.startsWith("/docs")))return e?.trailingSlash?"/":"";const a=t.match(/^(\/.+?)\//),f=a?a[1]:"";return e?.trailingSlash?f?f+"/":"/":f}function Q(){return typeof window>"u"?null:window}function F(){try{const e=typeof import.meta<"u"?import.meta:void 0;if(e?.env?.DEV||e?.env?.MODE==="development")return!0}catch{}return typeof B<"u"&&!1}async function ce(e){await new Promise((r,t)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onload=()=>r(),a.onerror=()=>{const f=new Error("Failed to load "+e);l.error("Failed to load wasm script",{component:"wasm",action:"load_script",scriptUrl:e,error:f.message}),t(f)},document.head.appendChild(a)})}async function X(e,r){const t=Q();if(!t)throw new C("Window object not available",{configKey:"window"});if(t.Go)return;const a=[e,r.replace(/\/?$/,"/")+"wasm_exec.js","/wasm_exec.js","https://cdn.jsdelivr.net/gh/golang/go@go1.25.0/misc/wasm/wasm_exec.js"];let f=!1,m=null;for(const v of a)try{if(await ce(v),t.Go){f=!0;break}}catch(b){m=b instanceof Error?b:new Error(String(b))}if(!f){const v=new U("Failed to load wasm_exec.js from all candidates",{url:e,cause:m||void 0,context:{candidates:a}});throw l.error("Failed to load Go wasm runtime",{component:"wasm",action:"load_go_runtime",candidates:a,error:v.message}),v}}async function ue(e){if(!Z())throw new C("WASM initialization requires browser environment");const r=Q();if(!r)throw new C("Window object not available",{configKey:"window"});const t=e?.base||"/",a=t.replace(/\/?$/,"/")+"wasm/wasm_exec.js",f=t.replace(/\/?$/,"/")+"wasm/sruja.wasm",v=F()?Date.now():`v${Date.now()}`,b=f+"?v="+v;if(!e?.skipGoLoad)await X(a,t);else if(!r.Go)try{await X(a,t)}catch{}const d=r.Go;if(!d){const n=new C("wasm_exec.js not loaded - Go constructor not available",{configKey:"Go"});throw l.error("Go constructor missing",{component:"wasm",action:"init",errorType:"go_constructor_missing",error:n.message}),n}const g=new d,w=g.importObject||{};if(!w.gojs){const n=w.env||{};w.gojs=Object.keys(n).length?n:w.go||{}}w.gojs&&!w.gojs["runtime.scheduleTimeoutEvent"]&&(w.gojs["runtime.scheduleTimeoutEvent"]=n=>{setTimeout(()=>{try{g._resume&&g._resume()}catch{}},n)});let i=null;const c=[b,f,t.replace(/\/?$/,"/")+"sruja.wasm","/sruja.wasm",t.replace(/\/?$/,"/")+"studio/wasm/sruja.wasm",t.replace(/\/?$/,"/")+"viewer/wasm/sruja.wasm","/wasm/sruja.wasm"];let _=null;for(const n of c)try{const o=await fetch(n);if(!o.ok)throw new U(`Failed to fetch ${n}`,{url:n,status:o.status});if(WebAssembly.instantiateStreaming)try{i=(await WebAssembly.instantiateStreaming(o,w)).instance,_=null,l.info("WASM loaded via streaming",{component:"wasm",action:"load_wasm",url:n}),F()&&console.info(`[WASM] ✅ Loaded from ${n}
[WASM] Cache-busting enabled - new WASM will load automatically after rebuild.
[WASM] If changes don't appear, try a hard refresh (Ctrl+Shift+R / Cmd+Shift+R)`);break}catch(s){l.warn("WASM streaming failed, falling back to arrayBuffer",{component:"wasm",action:"load_wasm",error:s instanceof Error?s.message:String(s)});const u=await fetch(n);if(!u.ok)throw new Error("Failed to re-fetch for fallback");const S=await u.arrayBuffer();i=(await WebAssembly.instantiate(S,w)).instance,_=null,l.info("WASM loaded via arrayBuffer fallback",{component:"wasm",action:"load_wasm",url:n}),F()&&console.info(`[WASM] ✅ Loaded from ${n} (fallback method)
[WASM] Cache-busting enabled - new WASM will load automatically after rebuild.
[WASM] If changes don't appear, try a hard refresh (Ctrl+Shift+R / Cmd+Shift+R)`);break}else{const s=await o.arrayBuffer();i=(await WebAssembly.instantiate(s,w)).instance,_=null,l.info("WASM loaded via arrayBuffer",{component:"wasm",action:"load_wasm",url:n}),F()&&console.info(`[WASM] ✅ Loaded from ${n}
[WASM] Cache-busting enabled - new WASM will load automatically after rebuild.
[WASM] If changes don't appear, try a hard refresh (Ctrl+Shift+R / Cmd+Shift+R)`);break}}catch(o){_=o instanceof Error?o:new Error(String(o));continue}if(!i){const n=_||new U("Failed to load sruja.wasm from all candidates",{context:{candidates:c}});throw l.error("Failed to load sruja.wasm",{component:"wasm",action:"load_wasm",errorType:"wasm_load_failure",candidates:c,retries:c.length,error:n.message}),n}g.run(i),await new Promise(n=>setTimeout(n,100));let y=0;const W=150;for(;!r.sruja_dsl_to_model&&y<W;)await new Promise(n=>setTimeout(n,50)),y++;if(y>=W){const n=Object.keys(r).filter(o=>o.startsWith("sruja_"));l.error("Required WASM functions not found after waiting",{component:"wasm",action:"wait_for_required",retries:y,available:n,missing:{model:!r.sruja_dsl_to_model,mermaid:!r.sruja_dsl_to_mermaid,markdown:!r.sruja_dsl_to_markdown}})}const p=r.sruja_dsl_to_mermaid,h=r.sruja_dsl_to_markdown,E=r.sruja_dsl_to_model,M=r.sruja_model_to_dsl,A=r.sruja_dsl_to_dot,T=r.sruja_analyze_governance,x=Object.keys(r).filter(n=>n.startsWith("sruja_"));if(l.info("WASM functions loaded",{component:"wasm",action:"init_complete",available:x}),!p||!h||!E||!M){const n=[];p||n.push("sruja_dsl_to_mermaid"),h||n.push("sruja_dsl_to_markdown"),E||n.push("sruja_dsl_to_model"),M||n.push("sruja_model_to_dsl");const o=Object.keys(r).filter(u=>u.startsWith("sruja_")),s=new C(`WASM functions not found. Missing: ${n.join(", ")}. Available: ${o.join(", ")||"none"}`,{configKey:"wasm_functions",context:{missing:n,available:o,retries:y}});throw l.error("WASM functions missing",{component:"wasm",action:"init",errorType:"wasm_functions_missing",missing:n,available:o,retries:y,windowKeys:Object.keys(r).filter(u=>u.includes("sruja")||u.includes("wasm")),error:s.message}),s}return{parseDslToJson:async(n,o)=>{try{const s=o||typeof location<"u"&&location.pathname||"input.sruja";if(!E)throw new j("SYSTEM_5002","sruja_dsl_to_model function not registered");const u=E(n,s);if(!u||!u.ok){const S=L(u);throw S?(l.error("WASM parse failed",{component:"wasm",action:"parse_dsl",errorType:"parse_failure",errorCode:S.code,error:S.message,context:S.context,dslLength:n.length}),S):new j("PARSE_1001",u?.error||"parse failed")}return u.json||u.data||""}catch(s){throw l.error("WASM parse exception",{component:"wasm",action:"parse_dsl",errorType:"parse_exception",error:s instanceof Error?s.message:String(s),errorCode:s instanceof j?s.code:void 0}),s}},modelToDsl:async n=>{try{if(!M)throw new j("SYSTEM_5002","sruja_model_to_dsl function not registered");const o=M(n);if(!o||!o.ok){const s=L(o);throw s||new j("EXPORT_4001",o?.error||"model to DSL conversion failed")}return o.data||""}catch(o){throw l.error("WASM model to DSL exception",{component:"wasm",action:"model_to_dsl",error:o instanceof Error?o.message:String(o),errorCode:o instanceof j?o.code:void 0}),o}},dslToMermaid:async n=>{try{const o=p(n);if(!o||!o.ok){const u=L(o);throw u?(l.error("WASM mermaid export failed",{component:"wasm",action:"export_mermaid",error:u.message,errorCode:u.code,context:u.context,dslPreview:n.substring(0,200)}),u):new j("EXPORT_4001",o?.error||"mermaid export failed")}const s=o.data||"";if(!s||s.trim().length===0){const u="mermaid exporter returned empty output";throw l.error("WASM mermaid export returned empty",{component:"wasm",action:"export_mermaid",error:u,dslPreview:n.substring(0,200)}),new j("EXPORT_4002",u)}return s}catch(o){throw l.error("WASM mermaid export exception",{component:"wasm",action:"export_mermaid",error:o instanceof Error?o.message:String(o),errorCode:o instanceof j?o.code:void 0}),o}},dslToMarkdown:async n=>{try{const o=h(n);if(!o||!o.ok)throw new Error(o?.error||"markdown export failed");return o.data||""}catch(o){throw l.error("WASM markdown export exception",{component:"wasm",action:"export_markdown",error:o instanceof Error?o.message:String(o)}),o}},dslToModel:async(n,o)=>{try{const s=o||typeof location<"u"&&location.pathname||"input.sruja";if(!E)throw new j("SYSTEM_5002","sruja_dsl_to_model function not registered");const u=E(n,s);if(!u||!u.ok){const S=L(u);throw S||new j("EXPORT_4001",u?.error||"model export failed")}return u.data||""}catch(s){throw l.error("WASM model export exception",{component:"wasm",action:"export_model",error:s instanceof Error?s.message:String(s),errorCode:s instanceof j?s.code:void 0}),s}},dslToDot:async(n,o,s,u)=>{try{if(!A)throw new j("SYSTEM_5002","sruja_dsl_to_dot function not registered");const O=A(n,JSON.stringify({viewLevel:o??1,focusNodeId:s??"",nodeSizes:u||{}}));if(!O||!O.ok){const G=L(O);throw G||new j("EXPORT_4001",O?.error||"DOT export failed")}return re(O.data)}catch(S){throw l.error("WASM DOT export exception",{component:"wasm",action:"export_dot",error:S instanceof Error?S.message:String(S),errorCode:S instanceof j?S.code:void 0}),S}},calculateArchitectureScore:async n=>{try{if(!T)throw new Error("sruja_analyze_governance function not registered");const o=T(n);if(!o||!o.ok)throw new Error(o?.error||"score calculation failed");return JSON.parse(o.data||"{}")}catch(o){throw l.error("WASM score calculation exception",{component:"wasm",action:"calculate_score",error:o instanceof Error?o.message:String(o)}),o}}}}let R=null,$=null;function le(){return ie({trailingSlash:!0,studioPath:!0})}async function de(e){return R||$||($=(async()=>{const r=e?.base??le();return R=await ue({...e,base:r}),R})(),$)}async function N(){if(R)return R;try{return await de()}catch(e){return l.error("Failed to initialize WASM",{component:"wasm",action:"get_api",error:e instanceof Error?e.message:String(e)}),null}}async function ve(e,r){const t=await N();if(!t)return l.error("WASM not available",{component:"wasm",action:"convert_dsl_to_json"}),null;try{const a=await t.parseDslToJson(e,r);return JSON.parse(a)}catch(a){const f=a instanceof Error?a.message:String(a);throw l.error("DSL parse error",{component:"wasm",action:"convert_dsl_to_json",error:f,filename:r||"unknown"}),new Error(`Failed to parse DSL${r?` (${r})`:""}: ${f}`)}}async function Ee(e){const r=await N();if(!r)return l.error("WASM not available",{component:"wasm",action:"convert_dsl_to_markdown"}),null;try{return await r.dslToMarkdown(e)}catch(t){return l.error("DSL to Markdown conversion error",{component:"wasm",action:"convert_dsl_to_markdown",error:t instanceof Error?t.message:String(t)}),null}}async function je(e){const r=await N();if(!r)return l.error("WASM not available",{component:"wasm",action:"convert_dsl_to_mermaid"}),null;try{return await r.dslToMermaid(e)}catch(t){return l.error("DSL to Mermaid conversion error",{component:"wasm",action:"convert_dsl_to_mermaid",error:t instanceof Error?t.message:String(t)}),null}}async function Me(e,r,t,a){const f=await N();if(!f)return l.error("WASM not available",{component:"wasm",action:"convert_dsl_to_dot"}),null;try{return await f.dslToDot(e,r,t,a)}catch(m){return l.error("DSL to DOT conversion error",{component:"wasm",action:"convert_dsl_to_dot",error:m instanceof Error?m.message:String(m)}),null}}async function ke(e){const r=await N();if(!r)throw l.error("WASM not available",{component:"wasm",action:"convert_model_to_dsl"}),new Error("WASM not available");try{const t=JSON.stringify(e);return await r.modelToDsl(t)}catch(t){const a=t instanceof Error?t.message:String(t);throw l.error("Model to DSL conversion error",{component:"wasm",action:"convert_model_to_dsl",error:a}),t}}export{C,te as M,U as N,pe as S,ne as V,be as a,Z as b,Ee as c,Se as d,D as e,ge as f,ie as g,_e as h,ue as i,he as j,ye as k,l,de as m,N as n,ve as o,je as p,Me as q,ke as r};
