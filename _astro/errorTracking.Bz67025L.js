import{c as f}from"./auto.qXY55obW.js";import{l as i}from"./SrujaMonacoEditor.CGKiwx36.js";function p(){if(typeof window>"u")return null;try{const e=window;if(e.Sentry&&typeof e.Sentry.captureException=="function")return e.Sentry}catch{}return null}function y(e){if(e instanceof Error){let n=e.message;return[/Bearer\s+[\w-]+/gi,/token["\s:=]+[\w-]+/gi,/password["\s:=]+[^\s"']+/gi,/secret["\s:=]+[^\s"']+/gi,/api[_-]?key["\s:=]+[^\s"']+/gi,/access[_-]?token["\s:=]+[^\s"']+/gi,/client[_-]?secret["\s:=]+[^\s"']+/gi].forEach(o=>{n=n.replace(o,"[REDACTED]")}),n}return String(e)}function l(e,n={}){const r=y(e),o=e instanceof Error?e.constructor.name:typeof e,t=e instanceof Error?e.stack:void 0,s={error_message:r,error_type:o,...n};t&&(s.error_stack=t.substring(0,500)),typeof window<"u"&&(s.user_agent=navigator.userAgent,s.screen_size=`${window.screen.width}x${window.screen.height}`,s.viewport_size=`${window.innerWidth}x${window.innerHeight}`,s.url=window.location.href.substring(0,200));const u=n.component?`error.${n.component}.${n.action||"unknown"}`:"error.unknown";f(u,s);const a=p();if(a&&e instanceof Error)try{a.captureException(e,{tags:{component:n.component||"unknown",action:n.action||"unknown",errorType:o},extra:{...n,error_message:r},level:n.severity==="warning"?"warning":"error"})}catch(w){console.warn("Failed to capture error to Sentry:",w)}else if(a&&!(e instanceof Error))try{a.captureMessage(String(e),{level:n.severity==="warning"?"warning":"error",tags:{component:n.component||"unknown",action:n.action||"unknown",errorType:o},extra:{...n,error_message:r}})}catch(w){console.warn("Failed to capture message to Sentry:",w)}const c={...n,errorType:o,errorMessage:r};t&&(c.stack=t.substring(0,200));const g=n.severity||"error";g==="error"?i.error(`[${n.component||"unknown"}] ${n.action||"error"}: ${r}`,c):g==="warning"?i.warn(`[${n.component||"unknown"}] ${n.action||"warning"}: ${r}`,c):i.info(`[${n.component||"unknown"}] ${n.action||"info"}: ${r}`,c)}function $(e,n,r={}){const o=`interaction.${n}.${e}`,t={component:n,action:e,...r};typeof window<"u"&&(t.timestamp=new Date().toISOString()),f(o,t),i.debug(`Interaction: ${n}.${e}`,t)}function k(e,n,r="ms",o={}){const t=`performance.${e}`;f(t,{metric:e,value:n,unit:r,...o}),i.debug(`Performance: ${e} = ${n}${r}`,o)}export{l as a,k as b,$ as t};
