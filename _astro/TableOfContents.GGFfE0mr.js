import{j as n}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.DM7nOceM.js";/* empty css                        */function E(){const[a,f]=i.useState([]),[m,u]=i.useState("");if(i.useEffect(()=>{const t=document.querySelector(".content-body");if(!t)return;const s=t.querySelectorAll("h2, h3, h4"),c=[];s.forEach(e=>{let o=e.id;if(!o){o=(e.textContent||"").toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");let l=o,d=1;for(;document.getElementById(l);)l=`${o}-${d}`,d++;o=l,e.id=o}o&&c.push({id:o,text:e.textContent||"",level:parseInt(e.tagName.charAt(1))})}),f(c);const r=new IntersectionObserver(e=>{e.forEach(o=>{o.isIntersecting&&u(o.target.id)})},{rootMargin:"-100px 0px -66% 0px",threshold:0});return s.forEach(e=>{e.id&&r.observe(e)}),()=>{r.disconnect()}},[]),a.length===0)return null;const p=t=>{const s=document.getElementById(t);if(s){const e=s.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:e,behavior:"smooth"})}};return n.jsxs("nav",{className:"toc",children:[n.jsx("div",{className:"toc-header",children:n.jsx("h3",{children:"On this page"})}),n.jsx("ul",{className:"toc-list",children:a.map(t=>n.jsx("li",{className:`toc-item toc-level-${t.level} ${m===t.id?"active":""}`,children:n.jsx("a",{href:`#${t.id}`,onClick:s=>{s.preventDefault(),p(t.id)},className:"toc-link",children:t.text})},t.id))})]})}export{E as default};
