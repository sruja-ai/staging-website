import{j as i}from"./jsx-runtime.D_zvdyIk.js";import{r as b}from"./index._4BMK3ry.js";import{L as K}from"./Logo.BDeSo3E-.js";import{B as k}from"./PosthogProvider.DHrDBjp9.js";import{M}from"./MantineProvider.DFlHB4BD.js";import"./auto.qXY55obW.js";/* empty css                       *//* empty css                       */import{e as w}from"./env.DcWn_g7b.js";import{h as V,z as X,S as Y}from"./SearchBar.BXKz5ROH.js";import{g as H}from"./designer-url.lSLuUBgX.js";import"./index.CO7ALg8S.js";function Z({isOpen:r,onClose:e,fetchResults:a,onSelect:t,verticalOffset:n,badge:u}){const[c,s]=b.useState(""),[o,m]=b.useState([]),[l,y]=b.useState(!1);return b.useEffect(()=>{let g=!0;return(async()=>{if(c.trim()===""){m([]);return}y(!0);try{const d=await a(c);g&&m(d)}finally{g&&y(!1)}})(),()=>{g=!1}},[c,a]),i.jsxs(V,{open:r,onClose:e,className:"relative z-[9999]",children:[i.jsx("div",{className:"fixed inset-0 bg-black/40",style:{zIndex:9998,position:"fixed",top:0,left:0,right:0,bottom:0}}),i.jsx("div",{className:"fixed inset-0 overflow-y-auto",style:{zIndex:9999,position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:n?"flex-start":"center",justifyContent:"center",padding:"1rem",paddingTop:n||void 0},children:i.jsx(X,{className:"w-full max-w-xl",style:{position:"relative",zIndex:1e4,margin:"0 auto",width:"100%",maxWidth:"42rem"},children:i.jsx(Y,{query:c,onQueryChange:s,results:o,loading:l,onSelect:g=>{t(g),e()},badge:u})})})]})}function ee(){function r(e){return new Promise(a=>{let t=new XMLHttpRequest;t.open(e.method,e.url,!0),Object.keys(e.headers).forEach(s=>t.setRequestHeader(s,e.headers[s]));let n=(s,o)=>setTimeout(()=>{t.abort(),a({status:0,content:o,isTimedOut:!0})},s),u=n(e.connectTimeout,"Connection timeout"),c;t.onreadystatechange=()=>{t.readyState>t.OPENED&&c===void 0&&(clearTimeout(u),c=n(e.responseTimeout,"Socket timeout"))},t.onerror=()=>{t.status===0&&(clearTimeout(u),clearTimeout(c),a({content:t.responseText||"Network request failed",status:t.status,isTimedOut:!1}))},t.onload=()=>{clearTimeout(u),clearTimeout(c),a({content:t.responseText,status:t.status,isTimedOut:!1})},t.send(e.data)})}return{send:r}}function re(r){let e;const a=`algolia-client-js-${r.key}`;function t(){return e===void 0&&(e=r.localStorage||window.localStorage),e}function n(){return JSON.parse(t().getItem(a)||"{}")}function u(s){t().setItem(a,JSON.stringify(s))}function c(){const s=r.timeToLive?r.timeToLive*1e3:null,o=n(),m=Object.fromEntries(Object.entries(o).filter(([,y])=>y.timestamp!==void 0));if(u(m),!s)return;const l=Object.fromEntries(Object.entries(m).filter(([,y])=>{const g=new Date().getTime();return!(y.timestamp+s<g)}));u(l)}return{get(s,o,m={miss:()=>Promise.resolve()}){return Promise.resolve().then(()=>(c(),n()[JSON.stringify(s)])).then(l=>Promise.all([l?l.value:o(),l!==void 0])).then(([l,y])=>Promise.all([l,y||m.miss(l)])).then(([l])=>l)},set(s,o){return Promise.resolve().then(()=>{const m=n();return m[JSON.stringify(s)]={timestamp:new Date().getTime(),value:o},t().setItem(a,JSON.stringify(m)),o})},delete(s){return Promise.resolve().then(()=>{const o=n();delete o[JSON.stringify(s)],t().setItem(a,JSON.stringify(o))})},clear(){return Promise.resolve().then(()=>{t().removeItem(a)})}}}function te(){return{get(r,e,a={miss:()=>Promise.resolve()}){return e().then(n=>Promise.all([n,a.miss(n)])).then(([n])=>n)},set(r,e){return Promise.resolve(e)},delete(r){return Promise.resolve()},clear(){return Promise.resolve()}}}function T(r){const e=[...r.caches],a=e.shift();return a===void 0?te():{get(t,n,u={miss:()=>Promise.resolve()}){return a.get(t,n,u).catch(()=>T({caches:e}).get(t,n,u))},set(t,n){return a.set(t,n).catch(()=>T({caches:e}).set(t,n))},delete(t){return a.delete(t).catch(()=>T({caches:e}).delete(t))},clear(){return a.clear().catch(()=>T({caches:e}).clear())}}}function D(r={serializable:!0}){let e={};return{get(a,t,n={miss:()=>Promise.resolve()}){const u=JSON.stringify(a);if(u in e)return Promise.resolve(r.serializable?JSON.parse(e[u]):e[u]);const c=t();return c.then(s=>n.miss(s)).then(()=>c)},set(a,t){return e[JSON.stringify(a)]=r.serializable?JSON.stringify(t):t,Promise.resolve(t)},delete(a){return delete e[JSON.stringify(a)],Promise.resolve()},clear(){return e={},Promise.resolve()}}}function ae(r){const e={value:`Algolia for JavaScript (${r})`,add(a){const t=`; ${a.segment}${a.version!==void 0?` (${a.version})`:""}`;return e.value.indexOf(t)===-1&&(e.value=`${e.value}${t}`),e}};return e}function se(r,e,a="WithinHeaders"){const t={"x-algolia-api-key":e,"x-algolia-application-id":r};return{headers(){return a==="WithinHeaders"?t:{}},queryParameters(){return a==="WithinQueryParameters"?t:{}}}}function ne({algoliaAgents:r,client:e,version:a}){const t=ae(a).add({segment:e,version:a});return r.forEach(n=>t.add(n)),t}function ie(){return{debug(r,e){return Promise.resolve()},info(r,e){return Promise.resolve()},error(r,e){return Promise.resolve()}}}var I=120*1e3;function _(r,e="up"){const a=Date.now();function t(){return e==="up"||Date.now()-a>I}function n(){return e==="timed out"&&Date.now()-a<=I}return{...r,status:e,lastUpdate:a,isUp:t,isTimedOut:n}}var U=class extends Error{name="AlgoliaError";constructor(r,e){super(r),e&&(this.name=e)}},B=class extends U{stackTrace;constructor(r,e,a){super(r,a),this.stackTrace=e}},oe=class extends B{constructor(r){super("Unreachable hosts - your application id may be incorrect. If the error persists, please visit our help center https://alg.li/support-unreachable-hosts or reach out to the Algolia Support team: https://alg.li/support",r,"RetryError")}},$=class extends B{status;constructor(r,e,a,t="ApiError"){super(r,a,t),this.status=e}},ce=class extends U{response;constructor(r,e){super(r,"DeserializationError"),this.response=e}},le=class extends ${error;constructor(r,e,a,t){super(r,e,t,"DetailedApiError"),this.error=a}};function ue(r){const e=r;for(let a=r.length-1;a>0;a--){const t=Math.floor(Math.random()*(a+1)),n=r[a];e[a]=r[t],e[t]=n}return e}function de(r,e,a){const t=he(a);let n=`${r.protocol}://${r.url}${r.port?`:${r.port}`:""}/${e.charAt(0)==="/"?e.substring(1):e}`;return t.length&&(n+=`?${t}`),n}function he(r){return Object.keys(r).filter(e=>r[e]!==void 0).sort().map(e=>`${e}=${encodeURIComponent(Object.prototype.toString.call(r[e])==="[object Array]"?r[e].join(","):r[e]).replace(/\+/g,"%20")}`).join("&")}function me(r,e){if(r.method==="GET"||r.data===void 0&&e.data===void 0)return;const a=Array.isArray(r.data)?r.data:{...r.data,...e.data};return JSON.stringify(a)}function fe(r,e,a){const t={Accept:"application/json",...r,...e,...a},n={};return Object.keys(t).forEach(u=>{const c=t[u];n[u.toLowerCase()]=c}),n}function ge(r){try{return JSON.parse(r.content)}catch(e){throw new ce(e.message,r)}}function pe({content:r,status:e},a){try{const t=JSON.parse(r);return"error"in t?new le(t.message,e,t.error,a):new $(t.message,e,a)}catch{}return new $(r,e,a)}function ye({isTimedOut:r,status:e}){return!r&&~~e===0}function ve({isTimedOut:r,status:e}){return r||ye({isTimedOut:r,status:e})||~~(e/100)!==2&&~~(e/100)!==4}function we({status:r}){return~~(r/100)===2}function xe(r){return r.map(e=>Q(e))}function Q(r){const e=r.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...r,request:{...r.request,headers:{...r.request.headers,...e}}}}function Se({hosts:r,hostsCache:e,baseHeaders:a,logger:t,baseQueryParameters:n,algoliaAgent:u,timeouts:c,requester:s,requestsCache:o,responsesCache:m}){async function l(h){const d=await Promise.all(h.map(f=>e.get(f,()=>Promise.resolve(_(f))))),v=d.filter(f=>f.isUp()),x=d.filter(f=>f.isTimedOut()),E=[...v,...x];return{hosts:E.length>0?E:h,getTimeout(f,P){return(x.length===0&&f===0?1:x.length+3+f)*P}}}async function y(h,d,v){const x=[],E=me(h,d),S=fe(a,h.headers,d.headers),f=h.method==="GET"?{...h.data,...d.data}:{},P={...n,...h.queryParameters,...f};if(u.value&&(P["x-algolia-agent"]=u.value),d&&d.queryParameters)for(const p of Object.keys(d.queryParameters))!d.queryParameters[p]||Object.prototype.toString.call(d.queryParameters[p])==="[object Object]"?P[p]=d.queryParameters[p]:P[p]=d.queryParameters[p].toString();let N=0;const R=async(p,O)=>{const A=p.pop();if(A===void 0)throw new oe(xe(x));const q={...c,...d.timeouts},L={data:E,headers:S,method:h.method,url:de(A,h.path,P),connectTimeout:O(N,q.connect),responseTimeout:O(N,v?q.read:q.write)},J=C=>{const W={request:L,response:C,host:A,triesLeft:p.length};return x.push(W),W},j=await s.send(L);if(ve(j)){const C=J(j);return j.isTimedOut&&N++,t.info("Retryable failure",Q(C)),await e.set(A,_(A,j.isTimedOut?"timed out":"down")),R(p,O)}if(we(j))return ge(j);throw J(j),pe(j,x)},G=r.filter(p=>p.accept==="readWrite"||(v?p.accept==="read":p.accept==="write")),z=await l(G);return R([...z.hosts].reverse(),z.getTimeout)}function g(h,d={}){const v=()=>y(h,d,x),x=h.useReadTransporter||h.method==="GET";if((d.cacheable||h.cacheable)!==!0)return v();const S={request:h,requestOptions:d,transporter:{queryParameters:n,headers:a}};return m.get(S,()=>o.get(S,()=>o.set(S,v()).then(f=>Promise.all([o.delete(S),f]),f=>Promise.all([o.delete(S),Promise.reject(f)])).then(([f,P])=>P)),{miss:f=>m.set(S,f)})}return{hostsCache:e,requester:s,timeouts:c,logger:t,algoliaAgent:u,baseHeaders:a,baseQueryParameters:n,hosts:r,request:g,requestsCache:o,responsesCache:m}}var F="5.46.0";function Pe(r){return[{url:`${r}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${r}.algolia.net`,accept:"write",protocol:"https"}].concat(ue([{url:`${r}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${r}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${r}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function je({appId:r,apiKey:e,authMode:a,algoliaAgents:t,...n}){const u=se(r,e,a),c=Se({hosts:Pe(r),...n,algoliaAgent:ne({algoliaAgents:t,client:"Lite",version:F}),baseHeaders:{"content-type":"text/plain",...u.headers(),...n.baseHeaders},baseQueryParameters:{...u.queryParameters(),...n.baseQueryParameters}});return{transporter:c,appId:r,apiKey:e,clearCache(){return Promise.all([c.requestsCache.clear(),c.responsesCache.clear()]).then(()=>{})},get _ua(){return c.algoliaAgent.value},addAlgoliaAgent(s,o){c.algoliaAgent.add({segment:s,version:o})},setClientApiKey({apiKey:s}){!a||a==="WithinHeaders"?c.baseHeaders["x-algolia-api-key"]=s:c.baseQueryParameters["x-algolia-api-key"]=s},searchForHits(s,o){return this.search(s,o)},searchForFacets(s,o){return this.search(s,o)},customPost({path:s,parameters:o,body:m},l){if(!s)throw new Error("Parameter `path` is required when calling `customPost`.");const d={method:"POST",path:"/{path}".replace("{path}",s),queryParameters:o||{},headers:{},data:m||{}};return c.request(d,l)},getRecommendations(s,o){if(s&&Array.isArray(s)&&(s={requests:s}),!s)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!s.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const g={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:s,useReadTransporter:!0,cacheable:!0};return c.request(g,o)},search(s,o){if(s&&Array.isArray(s)&&(s={requests:s.map(({params:d,...v})=>v.type==="facet"?{...v,...d,type:"facet"}:{...v,...d,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!s)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!s.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const g={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:s,useReadTransporter:!0,cacheable:!0};return c.request(g,o)}}}function be(r,e,a){if(!r||typeof r!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");return je({appId:r,apiKey:e,timeouts:{connect:1e3,read:2e3,write:3e4},logger:ie(),requester:ee(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:D(),requestsCache:D({serializable:!1}),hostsCache:T({caches:[re({key:`${F}-${r}`}),D()]}),...a})}function Ee({isOpen:r,onClose:e,onSelect:a}){const[t,n]=b.useState(null);b.useEffect(()=>{if(w.algolia){const s=be(w.algolia.appId,w.algolia.apiKey);n(s),w.env==="development"&&typeof console<"u"&&console.info(`[Algolia Search] Initialized with index: ${w.algolia.indexName}`)}else w.env==="development"&&typeof console<"u"&&console.warn("[Algolia Search] Algolia is not configured. Search dialog will open but search will not work.")},[]);const u=async s=>{if(!t||!w.algolia||!s.trim())return[];try{const{results:o}=await t.search([{indexName:w.algolia.indexName,query:s,params:{hitsPerPage:10,attributesToRetrieve:["title","description","url","type","section"]}}]);return(o[0]?.hits||[]).map(l=>({id:l.objectID||l.url||l.title||"unknown",label:l.title||"Untitled",subLabel:l.section||l.type||l.description,...l.url&&{url:l.url}}))}catch(o){return console.error("Algolia search error:",o),[]}},c=s=>{s&&"url"in s&&s.url?window.location.href=s.url:a&&a(s)};return i.jsx(i.Fragment,{children:i.jsx(Z,{isOpen:r,onClose:e,fetchResults:w.algolia?u:async()=>[],onSelect:c,verticalOffset:"20vh",badge:w.algolia?i.jsx("a",{href:"https://www.algolia.com/?utm_medium=AOS-referral",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"var(--color-primary)",fontWeight:500},children:"Search by Algolia"}):void 0})})}function Je(){const[r,e]=b.useState(!1);return b.useEffect(()=>{const a=t=>{(t.metaKey||t.ctrlKey)&&t.key==="k"&&(t.preventDefault(),e(!0)),t.key==="Escape"&&r&&e(!1)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[r]),i.jsx(M,{children:i.jsxs("div",{className:"hero",children:[i.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:12},children:i.jsx(K,{size:56})}),i.jsx("h1",{children:"Architecture Editor with Live Code Sync"}),i.jsx("p",{children:"Edit diagrams or code - changes sync both ways automatically. Like Notion, but for architecture. Version-controlled, validated, beautiful."}),i.jsxs("div",{className:"hero-audiences",children:[i.jsxs("div",{className:"audience-card",children:[i.jsx("strong",{children:"ðŸ”„ Bidirectional Sync"}),i.jsx("p",{children:"Edit visually â†’ Code updates. Edit code â†’ Diagram updates. Real-time, both ways."})]}),i.jsxs("div",{className:"audience-card",children:[i.jsx("strong",{children:"âœ… For Everyone"}),i.jsx("p",{children:"Designers edit visually, developers edit code. Same source of truth, version-controlled in Git."})]}),i.jsxs("div",{className:"audience-card",children:[i.jsx("strong",{children:"ðŸ“Š Built-in Validation"}),i.jsx("p",{children:"Cycle detection, orphan detection, unique IDs, and custom governance rules out of the box."})]}),i.jsxs("div",{className:"audience-card",children:[i.jsx("strong",{children:"ðŸŽ¯ Multiple Outputs"}),i.jsx("p",{children:"Export to JSON, Markdown, Mermaid, or keep as .sruja files in Git. Your choice."})]})]}),i.jsxs("p",{children:["Try the ",i.jsx("a",{href:H(),children:"Sruja Designer"})," to see bidirectional sync in action, explore ",i.jsx("a",{href:"/docs/examples",children:"real-world examples"}),", or start with our"," ",i.jsx("a",{href:"/courses",children:"comprehensive courses"}),"."]}),i.jsxs("div",{className:"hero-actions",children:[i.jsx(k,{variant:"primary",onClick:()=>window.location.href="/docs/getting-started",children:"Get Started"}),i.jsx(k,{variant:"secondary",onClick:()=>window.location.href=H(),children:"Open Designer"}),i.jsx(k,{variant:"outline",onClick:()=>window.location.href="/docs/examples",children:"View Examples"}),i.jsx(k,{variant:"outline",onClick:()=>e(!0),children:"Search"})]}),i.jsx(Ee,{isOpen:r,onClose:()=>e(!1)})]})})}export{Je as default};
