import{c as u}from"./auto.qXY55obW.js";import{l as i,r as p}from"./wasmAdapter.BuhgPVib.js";import"./index.BkaWJOLo.js";function l(){if(typeof window>"u")return null;try{const e=window;if(e.Sentry&&typeof e.Sentry.captureException=="function")return e.Sentry}catch{}return null}function m(e){if(e instanceof Error){let n=e.message;return[/Bearer\s+[\w-]+/gi,/token["\s:=]+[\w-]+/gi,/password["\s:=]+[^\s"']+/gi,/secret["\s:=]+[^\s"']+/gi,/api[_-]?key["\s:=]+[^\s"']+/gi,/access[_-]?token["\s:=]+[^\s"']+/gi,/client[_-]?secret["\s:=]+[^\s"']+/gi].forEach(o=>{n=n.replace(o,"[REDACTED]")}),n}return String(e)}function k(e,n={}){const r=m(e),o=e instanceof Error?e.constructor.name:typeof e,t=e instanceof Error?e.stack:void 0,s={error_message:r,error_type:o,...n};t&&(s.error_stack=t.substring(0,500)),typeof window<"u"&&(s.user_agent=navigator.userAgent,s.screen_size=`${window.screen.width}x${window.screen.height}`,s.viewport_size=`${window.innerWidth}x${window.innerHeight}`,s.url=window.location.href.substring(0,200));const g=n.component?`error.${n.component}.${n.action||"unknown"}`:"error.unknown";u(g,s);const a=l();if(a&&e instanceof Error)try{a.captureException(e,{tags:{component:n.component||"unknown",action:n.action||"unknown",errorType:o},extra:{...n,error_message:r},level:n.severity==="warning"?"warning":"error"})}catch(f){console.warn("Failed to capture error to Sentry:",f)}else if(a&&!(e instanceof Error))try{a.captureMessage(String(e),{level:n.severity==="warning"?"warning":"error",tags:{component:n.component||"unknown",action:n.action||"unknown",errorType:o},extra:{...n,error_message:r}})}catch(f){console.warn("Failed to capture message to Sentry:",f)}const c={...n,errorType:o,errorMessage:r};t&&(c.stack=t.substring(0,200));const w=n.severity||"error";w==="error"?i.error(`[${n.component||"unknown"}] ${n.action||"error"}: ${r}`,c):w==="warning"?i.warn(`[${n.component||"unknown"}] ${n.action||"warning"}: ${r}`,c):i.info(`[${n.component||"unknown"}] ${n.action||"info"}: ${r}`,c)}function _(e,n,r={}){const o=`interaction.${n}.${e}`,t={component:n,action:e,...r};typeof window<"u"&&(t.timestamp=new Date().toISOString()),u(o,t),i.debug(`Interaction: ${n}.${e}`,t)}function v(e,n,r="ms",o={}){const t=`performance.${e}`;u(t,{metric:e,value:n,unit:r,...o}),i.debug(`Performance: ${e} = ${n}${r}`,o)}const E=Object.freeze(Object.defineProperty({__proto__:null,convertModelToDsl:p},Symbol.toStringTag,{value:"Module"}));export{k as a,v as b,E as m,_ as t};
